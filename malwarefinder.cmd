@echo off
setlocal enabledelayedexpansion

REM Set the list of top-level domains (TLDs)
set "tlds=.com .aaa .aarp .abarth .abb .abbott .abbvie .abc .able .abogado .abudhabi .ac .academy .accenture .accountant .accountants .aco .active .actor .ad"

REM Set the destination folder
mkdir C:\MalwareFinder
set "destination=C:\MalwareFinder"

REM Set the character set for generating random URLs
set "characters=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"

:loop
REM Generate a random URL
set "url="

REM Generate a random URL path
set "pathLength=%random% %% 10 + 5"
for /l %%i in (1,1,%pathLength%) do (
  set /a "randomIndex=%random% %% 62"
  set "randomCharacter=!characters:~%randomIndex%,1!"
  set "url=!url!!randomCharacter!"
)

REM Get a random TLD from the list
set "randomIndex=0"
for %%j in (%tlds%) do (
  set /a "randomIndex+=1"
  set "tld[!randomIndex!]=%%j"
)
set /a "randomTLDIndex=(%random% %% %randomIndex%) + 1"
set "tld=!tld[%randomTLDIndex%]!"

REM Append the random TLD to the URL
set "url=!url!!tld!"

REM Generate a random file name
set "randomName=%random%%random%%random%"
set "file=%destination%\%randomName%.html"

REM Download the HTML file
echo Downloading: !url!
powershell -Command "(New-Object Net.WebClient).DownloadFile('!url!', '!file!')"

REM Wait for a few seconds before generating the next URL
timeout /t 1 /nobreak >nul

goto loop
