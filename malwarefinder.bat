@echo off
setlocal enabledelayedexpansion

REM Set the list of top-level domains (TLDs)
set "tlds=.com .net .org .io"

REM Set the destination folder
set "destination=C:\Path\To\Destination\Folder"

REM Set the character set for generating random URLs
set "characters=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"

:loop
REM Generate a random URL
set "url="

REM Generate a random URL path within length limit
set "maxPathLength=5"
set /a "pathLength=%random% %% %maxPathLength% + 1"
for /l %%i in (1,1,%pathLength%) do (
  set /a "randomIndex=%random% %% 62"
  set "randomCharacter=!characters:~%randomIndex%,1!"
  set "url=!url!!randomCharacter!"
)

REM Get a random TLD from the list
set "randomIndex=0"
for %%j in (%tlds%) do (
  set /a "randomIndex+=1"
  set "tld[!randomIndex!]=%%j"
)
set /a "randomTLDIndex=(%random% %% %randomIndex%) + 1"
set "tld=!tld[%randomTLDIndex%]!"

REM Append the random TLD to the URL
set "url=!url!!tld!"

REM Generate the file name from the URL
set "fileName=!url:http://=!"
set "fileName=!fileName:/=_!"
set "fileName=!fileName:.=_!"
set "fileName=!fileName:?=!"
set "fileName=!fileName:&=!"
set "fileName=!fileName:"=!"
set "fileName=!fileName:\=_!"
set "fileName=!fileName:|=!"

REM Replace invalid characters with underscores (_)
setlocal disabledelayedexpansion
set "invalidChars=<>:""/\|?*"
for %%c in (%invalidChars%) do (
    set "fileName=!fileName:%%c=_!"
)

REM Download the HTML file using curl
echo Downloading: !url!
curl -o "!destination!\!fileName!.html" "!url!"

REM Wait for a few seconds before generating the next URL
timeout /t 5 /nobreak >nul

goto loop
