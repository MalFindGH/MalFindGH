@echo off
setlocal enabledelayedexpansion
set "string=abcdefghijklmnopqrstuvwxyz"
set "result="

REM Set the list of top-level domains (TLDs)
set "tlds=.com .net .org .io"

REM Set the destination folder
set "destination=C:\MalwareFinder"

:loop
REM Generate a random URL string
setlocal enabledelayedexpansion
for /L %%i in (1,1,5) do (
  set /a "x=!random! %% 26"
  set "result=!result!!string:~!x!,1!"
)
endlocal & set "url=%result%"

REM Select a random TLD from the list
set /a "randomTldIndex=!random! %% 4"
for /f "tokens=1* delims=. " %%t in ("%tlds%") do (
  if !randomTldIndex! equ 0 (
    set "tld=%%t"
    set "tldDot=%%u"
  )
  set /a "randomTldIndex-=1"
)

REM Generate the file name from the URL
set "fileName=!url!!tldDot!"

REM Download the HTML file using curl
set "file=%destination%\!fileName!.html"
echo Downloading: !url!!tldDot!
curl -o "!file!" "http://www.!url!!tld!"

REM Wait for a few seconds before generating the next URL
timeout /t 5 /nobreak >nul

REM Go back to the beginning of the loop
goto :loop
