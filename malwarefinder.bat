@echo off
setlocal enabledelayedexpansion

REM Set the list of top-level domains (TLDs)
set "tlds=.com .net .org .io"

REM Set the destination folder
set "destination=C:\MalwareFinder"

:loop
REM Generate a random URL string
set "url="
setlocal enabledelayedexpansion
set "characters=abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
for /L %%i in (1,1,5) do (
  set /a "index=!random! %% 62"
  set "char=!characters:~!index!,1!"
  set "url=!url!!char!"
)
endlocal & set "url=%url%"

REM Select a random TLD from the list
for %%t in (%tlds%) do (
  set "random=!random!"
  if !random! lss 32768 (
    set "tld=%%t"
    goto :break
  )
)

:break
REM Generate the file name from the URL
set "fileName=!url!!tld:~1!"

REM Download the HTML file using curl
set "file=%destination%\!fileName!.html"
echo Downloading: !url!!tld!
curl -o "!file!" "http://www.!url!!tld"

REM Wait for a few seconds before generating the next URL
timeout /t 5 /nobreak >nul

REM Go back to the beginning of the loop
goto :loop
