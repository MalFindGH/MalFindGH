@echo off
setlocal enabledelayedexpansion

REM Set the list of top-level domains (TLDs)
set "tlds=.com .net .org .io"

REM Set the destination folder
mkdir C:\MalwareFinder
set "destination=C:\MalwareFinder"

REM Set the character set for generating random URLs
set "characters=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"

:loop
REM Generate a random URL string
set "url="
set "urlLength=5"
for /l %%i in (1,1,%urlLength%) do (
  set /a "randomIndex=!random! %% 62"
  set "randomCharacter=!characters:~!randomIndex!,1!"
  set "url=!url!!randomCharacter!"
)

REM Select a random TLD from the list
set /a "randomTldIndex=!random! %% 4"
for /f "tokens=1* delims=. " %%t in ("%tlds%") do (
  if !randomTldIndex! equ 0 (
    set "tld=%%t"
    set "tldDot=%%u"
  )
  set /a "randomTldIndex-=1"
)

REM Generate the file name from the URL
set "fileName=!url!!tldDot!"

REM Download the HTML file using curl
set "file=%destination%\!fileName!.html"
echo Downloading: !url!!tldDot!
curl -o "!file!" "http://www.!url!!tld!"

REM Wait for a few seconds before generating the next URL
timeout /t 5 /nobreak >nul

REM Go back to the beginning of the loop
goto :loop
